% Systemdokumentation OOP3
% Unterlage fÃ¼r Studenten als Leitfaden fÃ¼r die Erstellung einer SystemDoku
% 17. Oktober 2022
% ---------------------------------------------------------------------------



% Dokumentklasse
% --------------
\documentclass[12pt,naustrian,a4widepaper]{scrartcl}   
% article style
%   - 11pt Schriftgroesse
%   - new austrian (neue Rechtschreibung)
%   - Papierformat A4
%   - pdf-hyperlinks


% Packages
% --------
\usepackage[utf8]{inputenc}  % fuer Umlaute, Ü
\usepackage[T1]{fontenc}
\usepackage{a4wide}
\usepackage{times}      % Times Schriften (zusammen mit fontencoding, s.o.)

\usepackage{babel}
\usepackage{graphicx}	  % fÃ¼r das Einbinden von Grafiken
\usepackage{color}      % fÃ¼r fÃ¤rbigen Text
\usepackage{framed}     % fÃ¼r (Text-) Rahmen
\usepackage{fancyhdr}   % fÃ¼r Kopf- und Fusszeilen
\usepackage{listings}   % fÃ¼r den Sourcecode
\usepackage{pdfpages}
\usepackage{rotating}

\pagestyle{fancy}       % Kopf- / Fusszeile aktivieren

\definecolor{failred}{rgb}{0.7, 0.0, 0.0}
\definecolor{okgreen}{rgb}{0.0, 0.5, 0.0}
\definecolor{gray}{rgb}{0.0, 0.5, 0.0}

\lstdefinelanguage{TestOutput}{
    morekeywords={},
    morecomment=[l]{//},
    morestring=[b]",
    sensitive=false,
}

\lstdefinestyle{teststyle}{
    language=TestOutput,
    basicstyle=\ttfamily\footnotesize,
    keywordstyle=\color{black},
    commentstyle=\color{gray},
    stringstyle=\color{black},
    showstringspaces=false,
    breaklines=true,
    frame=single,
    numbers=left,
    numberstyle=\tiny\color{gray},
    postbreak=\mbox{\textcolor{red}{$\hookrightarrow$}\space},
    literate={OK}{{\textcolor{okgreen}{OK}}}2
             {Fail}{{\textcolor{failred}{Fail}}}4,
}

\lstdefinestyle{cppstyle}{
  language=C++,
  basicstyle=\ttfamily\tiny,
  keywordstyle=\color{blue},
  commentstyle=\textcolor{okgreen},
  stringstyle=\color{red},
  numbers=left,
  numberstyle=\tiny\color{gray},
  stepnumber=1,
  breaklines=true,
  frame=single
}


% Seitenspiegel
% -------------

\typearea{8}	% Festlegung des Seitenspiegels gem. Koma. 4..groÃŸ, 9..klein


% Kopfzeile
% ---------
\lhead{{\footnotesize{s. Offenberger, S. Vogelhuber}}}   %  (links)
\chead{{\footnotesize{Systemdokumentation - Symbolparser}}} %  (mitte)
\rhead{{\footnotesize{Seite \thepage}}}      %  (rechts)

% Fusszeile
% ---------
\lfoot{}  % links
\cfoot{}  % mitte 
\rfoot{}  % rechts

% Absatzformatierung
% ------------------
\setlength{\parindent}{0cm}   % EinrÃ¼ckung der 1. Zeile jedes Absatzes
\setlength{\parskip}{10pt}    % Abstand zwischen den AbsÃ¤tzen


% Package fÃ¼r Hyperlinks (mit pdf-Optionen)
% -----------------------------------------
\usepackage[
urlcolor=blue,		% blaue weblinks
linkcolor=black,	% interne Links sind schwarz
colorlinks=true,        % links werden eingefÃ¤rbt
pdfstartview=FitH,      % PDF-Anzeige: Fensterbreite
pdfborder={0 0 0},      % keine Umrandung um links
pdftitle   ={Systemdokumentation},% Referenzen in der Pdf-Datei
pdfauthor  ={M. Mustermann, S. Sorglos},
pdfsubject ={Systemdoku},
pdfcreator ={Der Creator},
pdfproducer={Der Producer},
pdfkeywords={Dokumentation, Systemdokumentation}
]{hyperref}


% Beginn des Dokumentes
% ---------------------
\begin{document}

\selectlanguage{naustrian}   % oder "american" fÃ¼r engl. Texte

\includepdf[pages = 1-3]{Uebung04_Deckblatt.pdf}


% Titelblatt
% ----------
\title {\vspace{1cm}
       \includegraphics[width=8cm]{./Images/FhOOeLogoOkt2009_HSD_Rot_pastell}\\
       \vspace{2cm}
       {\textbf{Systemdokumentation\\Projekt Symbolparser}}\\
       \vspace{5mm}
       {\small{Version 1.0}}\\
       \vspace{5mm}
}

\author{\small{S. Offenberger, S. Vogelhuber}}
\date  {\small{Hagenberg, \today}}
\maketitle

\clearpage

% Inhalts-, Tabellen- und Bildverzeichnis (werden generiert)
% ----------------------------------------------------------
\tableofcontents
% \listoftables
% \listoffigures
\clearpage



\section{Organisatorisches}

\subsection{Team}
\begin{itemize}
	\item Simon Offenberger, Matr.-Nr.: S2410306027, E-Mail: Simon.Offenberger@fh-hagenberg.at
	\item Simon Vogelhuber, Matr.-Nr.: S2410306014@fhooe.at, E-Mail: s2410306014@fhooe.at	
\end{itemize}

\subsection{Aufteilung der Verantwortlichkeitsbereiche}
\begin{itemize}
	\item Simon Offenberger
		\begin{itemize}
			\item Design Klassendiagramm
			\item Implementierung und Test der Klassen: 
			\begin{itemize}
				\item Object
				\item ISymbolFactory
				\item Variable
				\item Type
				\item JavaVariable
				\item JavaType
				\item JavaSymbolFactory
				\item IECVariable
				\item IECType
				\item IECSymbolFactory
			\end{itemize}
			\item Implementierung des Testtreibers
			\item Dokumentation
		\end{itemize}

	\item Simon Vogelhuber
		\begin{itemize}
			\item Design Klassendiagramm
			\item Implementierung des Testtreibers
			\item Dokumentation
			\item Implementierung und Komponententest der Klassen: 
			\begin{itemize}
				\item Object
				\item Symbolparser
				\item Variable
				\item Type
				\item JavaVariable
				\item JavaType
				\item IECVariable
				\item IECType
			\end{itemize}
		\end{itemize}	
\end{itemize}

\subsection{Aufwand}
	
	\begin{itemize}
		\item Simon Offenberger: geschätzt 10 Ph / tatsächlich 11 Ph
		\item Simon Vogelhuber:  geschätzt 10 Ph / tatsächlich 7 Ph
	\end{itemize}

\clearpage
\section{Anforderungsdefinition (Systemspezifikation)}
Das Ziel ist es einen Symbolparser zu implementieren, der verschiedene Programmiersprachen unterstützt. 
Der Parser soll in der Lage sein Typen und Variablen zu erkennen und zu verarbeiten.
Dazu wird eine Factory benötigt, die die entsprechenden Objekte für die verschiedenen Sprachen erzeugt.

\textbf{Funktionen des Symbolparsers:}
\begin{itemize}
	\item Auswählen der Programmiersprachen (auswählen der SymbolFactory)
	\item Speichern der erzeugten Objekte in einem Container.
	\item Erzeugen von Variablen und Typen über die SymbolFactory
	\item Überprüfung ob Typen und Variablen gültig sind.
	\item Beim Wechsel der SymbolFactory, werden alle Objekte der alten Faktory in ein File gespeichert. 
	Und die Objekte der neuen Factory werden aus dem File geladen.
\end{itemize}

\textbf{Funktionen der SymbolFactory:}

\begin{itemize}
	\item Erzeugen von Variablen und Typen der jeweiligen Programmiersprache.
\end{itemize}

\textbf{Funktionen der Variable:}
\begin{itemize}
	\item Speichern des Variablennamens
	\item Speichern des Variablentyps
	\item Auswerten der Variablendeklaration (Syntaxprüfung)
	\item Zurückgeben des Variablennamens
	\item Zurückgeben des Variablentyps
\end{itemize}
\newpage
\textbf{Funktionen des Type:}
\begin{itemize}
	\item Auswerten der Typdeklaration (Syntaxprüfung)
	\item Speichern des Typnamens
	\item Zurückgeben des Typnamens
\end{itemize}

\clearpage
\section{Systementwurf}

\begin{sidewaysfigure}
    \centering
    {\large \textbf{Klassendiagramm}\\[1em]}
    \includegraphics[width=\textheight]{./Klassendiagramm.png}
\end{sidewaysfigure}

\subsection{Designentscheidungen}
\textbf{Verwendung des Factory-Patterns:} \\
Das Factory-Pattern wurde verwendet, um die Erstellung von Objekten der verschiedenen Programmiersprachen zu kapseln. 
Das ermöglicht eine einfache Erweiterung des Systems um weitere Sprachen, ohne dass der Symbolparser angepasst werden muss.
Der Parser Speichert hierführ einen Pointer auf die aktuelle SymbolFactory, die zur Laufzeit gewechselt werden kann.
\par
\textbf{Verwendung des Singleton-Patterns:} \\
Das Singleton- Pattern wurde für die konkreten SymbolFactories implementiert, um sicherzustellen, dass nur eine Instanz der Factory existiert.
\par
\textbf{Verwendung von Vererbung und Polymorphie:} \\
Die Klassen Variable und Type sind Basisklassen, von denen spezifische Implementierungen für jede Programmiersprache abgeleitet sind.
Dadurch kann der Symbolparser generisch mit den Basisklassen arbeiten, ohne die spezifischen Implementierungen zu kennen.
\par
\textbf{Container für Objekte:} \\
Der Symbolparser verwendet einen Container (std::vector), um die erzeugten Objekte zu speichern.
Dies ermöglicht eine einfache Verwaltung und Iteration über die Objekte. Für die Variablen werden unique- Pointer gespeichert, die Types
werden jedoch als shared-Pointer gespeichert, da mehrere Variablen denselben Type referenzieren können.
\par
\textbf{SymbolParser:}\\
Der SymbolParser ist die zentrale Klasse, die die Interaktion mit dem Benutzer und die Verwaltung der Objekte übernimmt.
Er bietet Methoden zum Setzen der aktuellen SymbolFactory, zum Erzeugen von Variablen und Typen sowie zum Speichern und Laden der Objekte.
Der Parser überprüft ob eine eingegebene Variable oder ein Type gültig ist, indem er die entsprechenden Methoden der Objekte aufruft.

\color{black}
\section{Dateibeschreibung}
Im folgenden Abschnitt werden die Formate der verwendeten Dateien beschrieben.
\subsection{Datei: JavaTypes.sym}
Diese Datei wird verwendet um die vom Symbolparser verwaltete JavaTypes zu speicher.n
Die Datei ist folgendermaßen aufgebaut:
\\
\begin{verbatim}
ClassDeclaration = "class"  Identifier  "\n" .
Identifier       = Letter , { Letter | Digit | "_" } .
Letter           = "A"…"Z" | "a"…"z" .
Digit            = "0"…"9" .
\end{verbatim}

\subsection{Datei: JavaVars.sym}
Diese Datei wird verwendet um die vom Symbolparser verwaltete JavaVariablen zu speichern.
Die Datei ist folgendermaßen aufgebaut:
\\
\begin{verbatim}
ClassDeclaration =  Identifier  Identifier  ";\n" ;
Identifier       = Letter , { Letter | Digit | "_" } .
Letter           = "A"…"Z" | "a"…"z" .
Digit            = "0"…"9" .
\end{verbatim}
\clearpage
\subsection{Datei: IECTypes.sym}
Diese Datei wird verwendet um die vom Symbolparser verwaltete IECTypes zu speichern.
Die Datei ist folgendermaßen aufgebaut:
\\
\begin{verbatim}
ClassDeclaration = "TYPE"  Identifier "\n" .
Identifier       = Letter , { Letter | Digit | "_" } .
Letter           = "A"…"Z" | "a"…"z" .
Digit            = "0"…"9" .
\end{verbatim}

\subsection{Datei: IECVars.sym}
Diese Datei wird verwendet um die vom Symbolparser verwaltete IEC Variablen zu speichern.
Die Datei ist folgendermaßen aufgebaut:
\\
\begin{verbatim}
ClassDeclaration = "VAR" Identifier ":"  Identifier  ";\n" .
Identifier       = Letter  { Letter | Digit | "_" } .
Letter           = "A"…"Z" | "a"…"z" .
Digit            = "0"…"9" .
\end{verbatim}
\clearpage
\section{Dokumentation der Komponenten (Klassen)}
Die HTML-Startdatei befindet sich im Verzeichnis \href{run:./../doxy/html/index.html}{./../doxy/html/index.html}

\clearpage
\section{Testprotokollierung}
Der Testtreiber für die Symbolfactory wurde im Client implementiert, um zu zeigen dass dieser nur vom Interface und den Factories abhängt!

\lstinputlisting[style=teststyle]{../output.txt}

\clearpage
\section{Quellcode}
\subsection{Object.hpp}
\lstinputlisting[style = cppstyle]{../Object.h}
\clearpage
\subsection{Symbolparser.hpp}
\lstinputlisting[style = cppstyle]{../Symbolparser.hpp}
\clearpage
\subsection{Symbolparser.cpp}
\lstinputlisting[style = cppstyle]{../Symbolparser.cpp}
\clearpage
\subsection{ISymbolFactory.hpp}
\lstinputlisting[style = cppstyle]{../ISymbolFactory.hpp}
\clearpage
\subsection{Identifier.hpp}
\lstinputlisting[style = cppstyle]{../Identifier.hpp}
\clearpage
\subsection{Identifier.cpp}
\lstinputlisting[style = cppstyle]{../Identifier.cpp}
\clearpage
\subsection{Variable.hpp}
\lstinputlisting[style = cppstyle]{../Variable.hpp}
\clearpage
\subsection{Variable.cpp}
\lstinputlisting[style = cppstyle]{../Variable.cpp}
\clearpage
\subsection{Type.hpp}
\lstinputlisting[style = cppstyle]{../Type.hpp}
\clearpage
\subsection{SingetonBase.hpp}
\lstinputlisting[style = cppstyle]{../SingetonBase.hpp}
\clearpage
\subsection{JavaType.hpp}
\lstinputlisting[style = cppstyle]{../JavaType.hpp}
\clearpage
\subsection{JavaType.cpp}
\lstinputlisting[style = cppstyle]{../JavaType.cpp}
\clearpage
\subsection{JavaVariable.hpp}
\lstinputlisting[style = cppstyle]{../JavaVariable.hpp}
\clearpage
\subsection{JavaVariable.cpp}
\lstinputlisting[style = cppstyle]{../JavaVariable.cpp}
\clearpage
\subsection{JavaSymbolFactory.hpp}
\lstinputlisting[style = cppstyle]{../JavaSymbolFactory.hpp}
\clearpage
\subsection{JavaSymbolFactory.cpp}
\lstinputlisting[style = cppstyle]{../JavaSymbolFactory.cpp}
\clearpage
\subsection{IECType.hpp}
\lstinputlisting[style = cppstyle]{../IECType.hpp}
\clearpage
\subsection{IECType.cpp}
\lstinputlisting[style = cppstyle]{../IECType.cpp}
\clearpage
\subsection{IECVariable.hpp}
\lstinputlisting[style = cppstyle]{../IECVariable.hpp}
\clearpage
\subsection{IECVariable.cpp}
\lstinputlisting[style = cppstyle]{../IECVariable.cpp}
\clearpage
\subsection{IECSymbolFactory.hpp}
\lstinputlisting[style = cppstyle]{../IECSymbolFactory.hpp}
\clearpage
\subsection{IECSymbolFactory.cpp}
\lstinputlisting[style = cppstyle]{../IECSymbolFactory.cpp}
\clearpage
\subsection{main.cpp}
\lstinputlisting[style = cppstyle]{../Main.cpp}
\clearpage
\subsection{Client.hpp}
\lstinputlisting[style = cppstyle]{../Client.hpp}
\clearpage
\subsection{Client.cpp}
\lstinputlisting[style = cppstyle]{../Client.cpp}
\clearpage
\subsection{Test.hpp}
\lstinputlisting[style = cppstyle]{../Test.hpp}
\clearpage
\subsection{scanner.h}
\lstinputlisting[style = cppstyle]{../scanner.h}


% Literaturverzeichnis
% --------------------
%\begin{thebibliography}{99}
%\bibitem{Pomberger} Pomberger G., Blaschek G. : \textit{Software Engineering: Prototyping und objektorientert Software-Entwicklung}. Hanser, 1996
%
%\end{thebibliography}


% Ende des Dokuments
% ------------------
\end{document}
