% Systemdokumentation OOP3
% Unterlage fÃ¼r Studenten als Leitfaden fÃ¼r die Erstellung einer SystemDoku
% 17. Oktober 2022
% ---------------------------------------------------------------------------



% Dokumentklasse
% --------------
\documentclass[12pt,naustrian,a4widepaper]{scrartcl}   
% article style
%   - 11pt Schriftgroesse
%   - new austrian (neue Rechtschreibung)
%   - Papierformat A4
%   - pdf-hyperlinks


% Packages
% --------
\usepackage[utf8]{inputenc}  % fuer Umlaute, Ü
\usepackage[T1]{fontenc}
\usepackage{a4wide}
\usepackage{times}      % Times Schriften (zusammen mit fontencoding, s.o.)

\usepackage{babel}
\usepackage{graphicx}	  % fÃ¼r das Einbinden von Grafiken
\usepackage{color}      % fÃ¼r fÃ¤rbigen Text
\usepackage{framed}     % fÃ¼r (Text-) Rahmen
\usepackage{fancyhdr}   % fÃ¼r Kopf- und Fusszeilen
\usepackage{listings}   % fÃ¼r den Sourcecode
\usepackage{pdfpages}

\pagestyle{fancy}       % Kopf- / Fusszeile aktivieren

\definecolor{failred}{rgb}{0.7, 0.0, 0.0}
\definecolor{okgreen}{rgb}{0.0, 0.5, 0.0}
\definecolor{gray}{rgb}{0.0, 0.5, 0.0}

\lstdefinelanguage{TestOutput}{
    morekeywords={},
    morecomment=[l]{//},
    morestring=[b]",
    sensitive=false,
}

\lstdefinestyle{teststyle}{
    language=TestOutput,
    basicstyle=\ttfamily\footnotesize,
    keywordstyle=\color{black},
    commentstyle=\color{gray},
    stringstyle=\color{black},
    showstringspaces=false,
    breaklines=true,
    frame=single,
    numbers=left,
    numberstyle=\tiny\color{gray},
    postbreak=\mbox{\textcolor{red}{$\hookrightarrow$}\space},
    literate={OK}{{\textcolor{okgreen}{OK}}}2
             {Fail}{{\textcolor{failred}{Fail}}}4,
}

\lstset{
	language={C++},
	basicstyle=\tiny\ttfamily,
	keywordstyle=\color{blue},%\bfseries,
	commentstyle=\color{green},
	frame=single,
	linewidth=16cm,
	breaklines=false,
	tabsize=3,
	numbers=left, numberstyle=\tiny, stepnumber=1, numbersep=5pt
}


% Seitenspiegel
% -------------

\typearea{8}	% Festlegung des Seitenspiegels gem. Koma. 4..groÃŸ, 9..klein


% Kopfzeile
% ---------
\lhead{{\footnotesize{S. Offenberger, S. Vogelhuber}}}   %  (links)
\chead{{\footnotesize{Systemdokumentation - CoffeeMachine}}} %  (mitte)
\rhead{{\footnotesize{Seite \thepage}}}      %  (rechts)

% Fusszeile
% ---------
\lfoot{}  % links
\cfoot{}  % mitte 
\rfoot{}  % rechts

% Absatzformatierung
% ------------------
\setlength{\parindent}{0cm}   % EinrÃ¼ckung der 1. Zeile jedes Absatzes
\setlength{\parskip}{10pt}    % Abstand zwischen den AbsÃ¤tzen


% Package fÃ¼r Hyperlinks (mit pdf-Optionen)
% -----------------------------------------
\usepackage[
urlcolor=blue,		% blaue weblinks
linkcolor=black,	% interne Links sind schwarz
colorlinks=true,        % links werden eingefÃ¤rbt
pdfstartview=FitH,      % PDF-Anzeige: Fensterbreite
pdfborder={0 0 0},      % keine Umrandung um links
pdftitle   ={Systemdokumentation},% Referenzen in der Pdf-Datei
pdfauthor  ={M. Mustermann, S. Sorglos},
pdfsubject ={Systemdoku},
pdfcreator ={Der Creator},
pdfproducer={Der Producer},
pdfkeywords={Dokumentation, Systemdokumentation}
]{hyperref}


% Beginn des Dokumentes
% ---------------------
\begin{document}

\includepdf[pages= 1-2]{Deckblatt_Uebung07.pdf}


\selectlanguage{naustrian}   % oder "american" fÃ¼r engl. Texte

% Titelblatt
% ----------
\title {\vspace{1cm}
       \includegraphics[width=8cm]{./Images/FhOOeLogoOkt2009_HSD_Rot_pastell}\\
       \vspace{2cm}
       {\textbf{Systemdokumentation\\Projekt CoffeeMachine}}\\
       \vspace{5mm}
       {\small{Version 1.0}}\\
       \vspace{5mm}
}

\author{\small{S. Offenberger, S. Vogelhuber}}
\date  {\small{Hagenberg, \today}}
\maketitle

%\begin{abstract}
%Dieses Dokument zeigt den prinzipiellen Aufbau einer Systemdokumentation fÃ¼r Software-Projekte. Die einzelnen Kapitel sind mit Kommentaren versehen, welche die Struktur und den Inhalt erlÃ¤utern. 
%\end{abstract}

\clearpage

% Inhalts-, Tabellen- und Bildverzeichnis (werden generiert)
% ----------------------------------------------------------
\tableofcontents
% \listoftables
% \listoffigures
\clearpage



\section{Organisatorisches}

\subsection{Team}
\begin{itemize}
	\item Simon Offenberger, Matr.-Nr.: S2410306027, E-Mail: Simon.Offenberger@fh-hagenberg.at
	\item Simon Vogelhuber, Matr.-Nr.: S2410306014, E-Mail: Simon.Vogelhuber@fh-hagenberg.at	
\end{itemize}

\subsection{Aufteilung der Verantwortlichkeitsbereiche}
\begin{itemize}
	\item Simon Offenberger
		\begin{itemize}
			\item Design Klassendiagramm
			\item Implementierung und Test der Klassen: 
			\begin{itemize}
				\item ICoffee,
				\item Ingredient,
				\item SojaMilk,
				\item Milk,
				\item Sugar,
				\item Cream,
			\end{itemize}
			\item Implementierung des Testtreibers
			\item Dokumentation
		\end{itemize}
	\item Simon Vogelhuber
		\begin{itemize}
			\item Design Klassendiagramm
			\item Implementierung und Komponententest der Klassen: 
			\begin{itemize}
				\item CoffeePreparation,
				\item ExtendedOne,
				\item Espresso,
				\item Decaff,
				\item Mocha,
				\item CoffeeInfo
			\end{itemize}
			\item Implementierung des Testtreibers
			\item Dokumentation
		\end{itemize}	
\end{itemize}

\subsection{Aufwand}
	
	\begin{itemize}
		\item Simon Offenberger: geschätzt 4 Ph / tatsächlich 4 Ph
		\item Simon Vogelhuber:  geschätzt 4 Ph / tatsächlich 3 Ph
	\end{itemize}

\clearpage
\section{Anforderungsdefinition (Systemspezifikation)}

Das zu entwickelnde System dient der Simulation eines einfachen \textbf{Kaffeeautomaten} zur softwaretechnischen Abbildung von Kaffeevarianten und optionalen Zutaten. Ziel ist es, verschiedene Kaffeesorten dynamisch mit beliebig vielen (auch mehrfach wählbaren) Zutaten zu kombinieren und daraus \textbf{Gesamtpreis} sowie \textbf{Beschreibung} zu ermitteln.
Die Implementierung hat das \textbf{Decorator-Pattern} zu verwenden und so gestaltet zu sein, dass neue Kaffeesorten und Zutaten ohne Anpassung bestehender Klassen ergänzt werden können. 

\subsection{Systemüberblick}
Das System verwaltet zwei Elementgruppen:
\begin{itemize}
\item \textbf{Kaffeesorten} (Basisprodukte), z.B. \textit{Verlängerter}, \textit{Espresso}, \textit{Koffeinfrei}
\item \textbf{Zutaten} (Erweiterungen/Dekoratoren), z.B. \textit{Zucker}, \textit{Milch}, \textit{Schlagobers}
\end{itemize}

Eine konkrete Bestellung besteht aus genau \textbf{einer Kaffeesorte} und \textbf{0..n Zutaten}. Zutaten dürfen \textbf{mehrfach} hinzugefügt werden.
Für jede Bestellung müssen eine \textbf{textuelle Beschreibung} sowie der \textbf{Gesamtpreis} ausgegeben werden können. 

\subsection{Funktionale Anforderungen}

\subsubsection{Kaffeesorten (Basiskomponenten)}
\begin{itemize}
\item Jede Kaffeesorte besitzt eine \textbf{Beschreibung} (z.B. Name der Sorte) sowie einen \textbf{Basispreis}.
\item Eine Kaffeesorte stellt mindestens folgende Operationen bereit:
\begin{itemize}
\item \texttt{GetCost()} liefert den Basispreis (ohne Zutaten).
\item \texttt{GetDescription()} liefert die Basisbeschreibung (ohne Zutatenliste).
\end{itemize}
\end{itemize}

\subsubsection{Zutaten (Decorator)}
\begin{itemize}
\item Jede Zutat referenziert \textbf{genau ein} bereits existierendes Kaffeeobjekt (Kaffeesorte oder bereits dekoriertes Objekt).
\item Eine Zutat erweitert:
\begin{itemize}
\item den Preis um ihren \textbf{Zutatenpreis},
\item die Beschreibung um ihren \textbf{Zutatennamen} (als Bestandteil der Zutatenliste).
\end{itemize}
\item Zutaten müssen \textbf{beliebig oft} hintereinander hinzugefügt werden können (z.B. \textit{Milch, Milch}).
\end{itemize}

\subsubsection{Preis- und Beschreibungsdaten (Preisliste)}
\begin{itemize}
\item Preise und Beschreibungen von Kaffeesorten und Zutaten werden in einer separaten \textbf{Preisliste} (z.B. Konstanten in Header/Klasse/Namespace) definiert.
\item Die fachliche Logik (Berechnung und Ausgabe) darf nicht durch „Hardcoding“ von Preisen in vielen Klassen unübersichtlich werden.
\end{itemize}

\subsubsection{Preis- und Beschreibungsausgabe}
\begin{itemize}
\item \texttt{GetCost()} liefert den \textbf{Gesamtpreis} des aktuell zusammengesetzten Kaffees (Basis + alle Zutaten).
\item \texttt{GetDescription()} liefert eine \textbf{druckbare Beschreibung} zur Ausgabe auf \texttt{std::cout}, inkl. Zutaten in der Reihenfolge ihrer Hinzufügung.
\item Die Ausgabe soll mindestens Ausgaben in folgender Form ermöglichen:
\textit{Espresso: Zucker, Schlagobers 2.89 Euro} 


\end{itemize}

\subsection{Erweiterbarkeit (Designanforderung)}
\begin{itemize}
\item Das Design muss sicherstellen, dass \textbf{neue Kaffeesorten} und \textbf{neue Zutaten} hinzugefügt werden können, \textbf{ohne bestehende Klassen ändern zu müssen} (Open/Closed-Prinzip).
\item Diese Erweiterbarkeit ist nachzuweisen durch das Hinzufügen mindestens von:
\begin{itemize}
\item Kaffeesorte \textbf{„Mocca“}
\item Zutat \textbf{„Sojamilch“}
\end{itemize}
\end{itemize}

\subsection{Zusatzkomponente: \texttt{coffeePreparation} (FIFO)}
Zusätzlich ist eine Klasse \texttt{coffeePreparation} zu implementieren, die Bestellungen nach dem \textbf{FIFO-Prinzip} verwaltet. Sie stellt folgende Schnittstelle bereit: 


\begin{itemize}
\item \texttt{void Prepare(Coffee*);} \hfill // fügt einen Kaffee zur Vorbereitung hinzu
\item \texttt{void Display(std\:\:ostream\& os);} \hfill // gibt alle aktuell vorbereiteten Kaffees aus
\item \texttt{Coffee* Finished();} \hfill // entfernt und liefert den zuerst vorbereiteten Kaffee
\end{itemize}

\subsubsection{Verhaltensanforderungen \texttt{coffeePreparation}}
\begin{itemize}
\item \texttt{Prepare} reiht Bestellungen in eine Warteschlange ein.
\item \texttt{Finished} liefert das \textbf{älteste} Element der Warteschlange und entfernt es aus der Struktur.
\item \texttt{Display} gibt den aktuellen Inhalt der Warteschlange in geeigneter Form aus (z.B. je Bestellung eine Zeile mit Beschreibung und Preis).
\end{itemize}

\clearpage
\section{Systementwurf}

\subsection{Klassendiagramm}
\includegraphics[width=14cm]{./CoffeMachine.png}
\newpage

\subsection{Designentscheidungen}

Wie in der Aufgabenstellung gefordet wurde das Decorator-Pattern verwendet, um die Kaffeesorten und Zutaten zu implementieren.\\
Dies ermöglicht es, neue Zutaten und Kaffeesorten hinzuzufügen, ohne bestehende Klassen ändern zu müssen.\\
Dies wurde durch hinzufügen der Klassen \texttt{Mocha} und \texttt{SojaMilk} demonstriert.\\
Die Basiskomponente ist das Interface \texttt{ICoffee}, welche die Schnittstelle für alle Kaffeesorten und Zutaten definiert.
Die konkreten Kaffeesorten (\texttt{Espresso}, \texttt{Decaff}, \texttt{Mocha}, \texttt{ExtendedOne}) erben direkt von \texttt{ICoffee} und implementieren die Methoden \texttt{GetCost()} und \texttt{GetDescription()}.
Die Zutatenklassen (\texttt{Ingredient} und deren Unterklassen \texttt{Milk}, \texttt{SojaMilk}, \texttt{Sugar}, \texttt{Cream}) erben ebenfalls von \texttt{ICoffee} und enthalten eine Referenz auf ein \texttt{ICoffee}-Objekt, das sie dekorieren.
Die Methoden \texttt{GetCost()} und \\ \texttt{GetDescription()} der Zutatenklassen rufen die entsprechenden Methoden des dekorierten Objekts auf und erweitern deren Ergebnisse um den Preis und die Beschreibung der Zutat.

\color{black}

\section{Dokumentation der Komponenten (Klassen)}
Die HTML-Startdatei befindet sich im Verzeichnis \href{run:./../doxy/html/index.html}{./../doxy/html/index.html}

\clearpage
\section{Testprotokollierung}
\lstinputlisting[style=teststyle]{../TestOutput.txt}

\clearpage
\section{Quellcode}

\subsection{Object.hpp}
\lstinputlisting{../Object.h}
\clearpage
\subsection{ICoffee.hpp}
\lstinputlisting{./../ICoffee.hpp}
\clearpage
\subsection{CoffeeInfo.hpp}
\lstinputlisting{./../CoffeeInfo.hpp}

\clearpage
\subsection{Ingredient.hpp}
\lstinputlisting{./../Ingredient.hpp}
\clearpage
\subsection{Ingredient.cpp}
\lstinputlisting{./../Ingredient.cpp}
\clearpage

\subsection{CoffeePreparation.hpp}
\lstinputlisting{./../CoffeePreparation.hpp}
\clearpage
\subsection{CoffeePreparation.cpp}
\lstinputlisting{./../CoffeePreparation.cpp}
\clearpage

\subsection{SojaMilk.hpp}
\lstinputlisting{./../SojaMilk.hpp}
\clearpage
\subsection{SojaMilk.cpp}
\lstinputlisting{./../SojaMilk.cpp}
\clearpage
\subsection{Milk.hpp}
\lstinputlisting{./../Milk.hpp}
\clearpage
\subsection{Milk.cpp}
\lstinputlisting{./../Milk.cpp}
\clearpage
\subsection{Sugar.hpp}
\lstinputlisting{./../Sugar.hpp}
\clearpage
\subsection{Sugar.cpp}
\lstinputlisting{./../Sugar.cpp}
\clearpage
\subsection{Cream.hpp}
\lstinputlisting{./../Cream.hpp}
\clearpage
\subsection{Cream.cpp}
\lstinputlisting{./../Cream.cpp}
\clearpage
\subsection{ExtendedOne.hpp}
\lstinputlisting{./../ExtendedOne.hpp}
\clearpage
\subsection{ExtendedOne.cpp}
\lstinputlisting{./../ExtendedOne.cpp}
\clearpage
\subsection{Espresso.hpp}
\lstinputlisting{./../Espresso.hpp}
\clearpage
\subsection{Espresso.cpp}
\lstinputlisting{./../Espresso.cpp}
\clearpage
\subsection{Decaff.hpp}
\lstinputlisting{./../Decaff.hpp}
\clearpage
\subsection{Decaff.cpp}
\lstinputlisting{./../Decaff.cpp}
\clearpage
\subsection{Mocha.hpp}
\lstinputlisting{./../Mocha.hpp}
\clearpage
\subsection{Mocha.cpp}
\lstinputlisting{./../Mocha.cpp}
\clearpage

\subsection{main.cpp}
\lstinputlisting{./../main.cpp}
\clearpage

\subsection{Test.hpp}
\lstinputlisting{./../Test.hpp}
	

% Literaturverzeichnis
% --------------------
%\begin{thebibliography}{99}
%\bibitem{Pomberger} Pomberger G., Blaschek G. : \textit{Software Engineering: Prototyping und objektorientert Software-Entwicklung}. Hanser, 1996
%
%\end{thebibliography}


% Ende des Dokuments
% ------------------
\end{document}
